var quform=function(n,t,e){"use strict";function i(){this.items={}}var o,s,r=[],a={},d=t(document),c=null;return o={settingWrap:".qfb-setting",settingInputWrap:".qfb-setting-input",subSettingWrap:".qfb-sub-setting",subSettingInputWrap:".qfb-sub-setting-input",init:function(){(s=t('<div class="qfb-fixed-message"><div><div class="qfb-fixed-message-content"></div><span class="qfb-fixed-message-close"><i class="mdi mdi-close"></i></span></div></div>')).find(".qfb-fixed-message-close").click(function(){s.fadeOut("fast",function(){s.detach()})}),o.initNavPopups()},initNavPopups:function(){var n=t(".qfb-nav-popup-trigger");n.each(function(){var e=t(this),i=e.siblings(".qfb-nav-popup-content"),s="qfb-nav-popup-open",r=function(t){(t?n.not(t):n).removeClass(s).siblings(".qfb-nav-popup-content").hide()};e.click(function(){r(e);var n=e.hasClass(s);e[n?"removeClass":"addClass"](s).siblings(".qfb-nav-popup-content")[n?"hide":"show"]()}),e.add(i).click(o.stopPropagation),d.on("click",function(){r()})})},stopPropagation:function(n){n.stopPropagation()},preLoadImages:function(n,t){for(var e=0;e<n.length;e++){var i=new Image;i.src=t?t+n[e]:n[e],r.push(i)}},showFixedMessage:function(n,t,e,i){"number"==typeof c&&(clearTimeout(c),c=null),void 0===e&&(e="success"==t?4e3:0),void 0===i&&(i=0==e),s.find(".qfb-fixed-message-content").html(n),s.find(".qfb-fixed-message-close")[i?"show":"hide"](),s.stop(!0,!0).appendTo(o.cache.get("body")).css({display:"block",opacity:0,right:-s.width()}).attr("class","qfb-fixed-message").addClass("qfb-fixed-"+t+"-message").animate({opacity:1,right:0}),e&&(c=setTimeout(function(){s.fadeOut(function(){s.detach()})},e))},sanitiseResponse:function(n){return null!==n&&"object"==typeof n&&"string"==typeof n.type&&0!==n.type.length||(n={type:"invalid",message:"The response from the server was invalid or malformed"}),n},isValidEmail:function(n){return new RegExp("^[A-Za-z0-9!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9-]+(.[A-Za-z0-9-]+)*$").test(n)},addValidationError:function(n,e){var i=t('<div class="qfb-validation-error">').append(t('<div class="qfb-validation-error-inner">').html(e));return n.append(i),i.qfbSlideShow(),i},addSubmissionError:function(n,e){var i=t('<div class="qfb-submission-error">').append(t('<div class="qfb-submission-error-inner">').html(e));return n.prepend(i),i.qfbSlideShow(),i},log:function(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)},addAction:function(n,t){"string"==typeof n||n.length||"function"==typeof t?("undefined"==typeof a[n]&&(a[n]=[]),a[n].push(t)):o.log("Invalid arguments for addAction, aborting")},doAction:function(n){if("string"==typeof n||n.length){if("undefined"!=typeof a[n])for(var t=0;t<a[n].length;t++)a[n][t].apply(a[n][t],arguments.splice(1))}else o.log("Invalid argument for doAction, aborting")},getProperty:function(n,e,i){for(var o=e.split("."),s=o.length,r=0,a=n;r<s;r++){if("undefined"===t.type(a[o[r]])){a=undefined;break}a=a[o[r]]}return"undefined"===t.type(a)?i:a},scrollTo:function(n,e,i){if(t.isFunction(t.scrollTo)&&t.isFunction(t.fn.scrollTo)&&n&&0!==n.length){i=t.extend({},{duration:400,offset:-50,axis:"y"},i),e?o.isScrolledIntoView(n,e)||e.scrollTo(n,i):o.isScrolledIntoView(n)||t.scrollTo(n,i)}},isScrolledIntoView:function(n,e){if(e){var i=e.outerHeight();s=(o=n.position().top)+n.outerHeight(!0);return o>0&&s<i}var o,s,r=t(window).scrollTop(),a=r+t(window).height();return(s=(o=n.offset().top)+n.height())>=r&&o<=a&&s<=a&&o>=r},setSelectVal:function(n,t){return n.val(t),null===n.val()&&n.prop("selectedIndex",0),n},toString:function(n){return n===undefined||null===n?"":""+n},isNonEmptyString:function(n){return"string"==typeof n&&n.length>0},isNonEmptyObject:function(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1},clamp:function(n,t,e){return Math.min(Math.max(n,t),e)},htmlEntities:function(n){return t("<div>").text(n).html()},htmlEntityDecode:function(n){return t("<div>").html(n).text()},isColorTransparent:function(n){if(!o.isNonEmptyString(n))return!0;if("transparent"==n)return!0;var t=/rgba\((.+)\)/gi.exec(n);if(t){var e=t[1].split(",");return 4==e.length&&0===parseFloat(e[3])}return!1}},t.fn.qfbMediaBrowser=function(n){var i={mediaOptions:{title:e.selectImage,button:{text:e.select},multiple:!1},callback:t.noop,onOpen:t.noop,onClose:t.noop},o=t.extend(!0,{},i,n);return this.each(function(){var n=t(this);n.data("qfbMediaBrowser")||n.data("qfbMediaBrowser",new function(n,t){var e;n.click(function(){return e||((e=wp.media(t.mediaOptions)).on("select",function(){t.callback.apply(this,[e.state().get("selection")])}),e.on("close",function(){t.onClose.apply(this)})),t.onOpen.apply(this),e.open(),!1})}(n,o))})},t.fn.extend({qfbSlideHide:function(n,e){var i={height:"hide",opacity:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},o={duration:400};return n&&(o.complete=n),e&&(i=t.extend(i,e)),this.animate(i,o)},qfbSlideShow:function(n,e){var i={height:"show",opacity:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},o={duration:400};return n&&(o.complete=n),e&&(i=t.extend(i,e)),this.animate(i,o)}}),i.prototype.get=function(n){return this.items[n]===undefined&&(this.items[n]=t(n)),this.items[n]},o.cache=new i,t(document).ready(o.init),n.core=o,n}(quform||{},jQuery,quformCoreL10n);