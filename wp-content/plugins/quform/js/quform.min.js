!function(e){"use strict";var t;t=function(){function t(o,i){if(this.$form=e(o),this.submitted=!1,this.nextUploadId=1,this.removedUploadUids=[],this.uploadQueue=[],this.uploadElements=[],this.logicCache={},!this.$form.length)throw new Error("Form not found.");if(this.$form.data("quform"))throw new Error("Quform already attached.");this.$form.data("quform",this),this.options=e.extend({},t.defaults,i),e.isFunction(e.scrollTo)&&e.isFunction(e.fn.scrollTo)||(this.options.scrolling=!1),this.$wrapper=this.$form.closest(".quform"),this.$elements=e(".quform-elements",this.$form),this.$loading=e(".quform-loading",this.$form),this.currentPageId=this.options.currentPageId,this.submitStartTime=0,this.submitEndTime=0,this.successTimeout=null,this.errorShowFunction=this.$wrapper.hasClass("quform-errors-absolute")?"fadeIn":"quformShowSlide",this.init()}return t.defaults={errorsIcon:"",scrolling:!0,scrollSpeed:800,scrollDelay:0,scrollOffset:-50,hasPages:!1,pages:[],logic:{logic:[],dependents:[],elementIds:[],dependentElementIds:[],animate:!0}},t.prototype.init=function(){var t=this;this.setupInsideLabels(),this.setupEnhancedSelects(),this.setupEnhancedUploaders(),this.setupDatepickers(),this.setupTimepickers(),this.applyAllLogic(!0),this.setupTooltips(),this.setupCaptchaImages(),this.$wrapper.hasClass("quform-prevent-fouc")&&this.$wrapper.removeClass("quform-prevent-fouc"),this.options.ajax&&(t.$form.on("submit",function(e){if(e.preventDefault(),window.grecaptcha){var o=t.$form.find(".quform-recaptcha");if(o.length){if("invisible"==o.data("config").size)return void window.grecaptcha.execute(o.data("recaptcha-id"))}}t.submit()}),e(".quform-back",t.$form).on("click",function(e){e.preventDefault(),t.submit("back")})),e(".quform-field-select.quform-submit-on-choice").change(function(){t.$form.submit()}),e(".quform-field-radio.quform-submit-on-choice").click(function(){t.$form.submit()}),e(".quform-button-submit > button",this.$form).each(function(){var o,i,r=e(this),n=r.closest(".quform-button-submit"),a=n.data("animation"),s=1e3,u=t.options.scrollDelay;a&&(o="quform-button-animation-"+a,"two"==a&&(s=3200),r.click(function(){t.options.scrollDelay=s,n.removeClass(o),"number"==typeof i&&(clearTimeout(i),i=null),setTimeout(function(){n.addClass(o),i=setTimeout(function(){n.removeClass(o),t.options.scrollDelay=u},s)},4)}))})},t.prototype.setupInsideLabels=function(){e.InFieldLabels?e(".quform-labels-inside > .quform-spacer > .quform-label",this.$form).each(function(){var t=e(this),o=t.parent().find(".quform-input"),i=o.find(".quform-field");t.addClass("quform-label-inside").css({top:parseInt(i.css("padding-top"),10)+parseInt(i.css("border-top-width"),10),left:parseInt(i.css("padding-left"),10)+parseInt(i.css("border-left-width"),10)}).prependTo(o),new e.InFieldLabels(t[0],i[0])}):e(".quform-labels-inside > .quform-spacer > .quform-label",this.$form).show()},t.prototype.setupEnhancedSelects=function(){if("function"==typeof e.fn.select2){var o=this;e(".quform-field-select-enhanced",o.$form).each(function(){var i=e(this),r=i.data("options"),n={theme:"quform",language:{noResults:function(){return r.noResultsFound}}};r.search||(n.minimumResultsForSearch=Infinity),r.rtl&&(n.dir="rtl"),i.select2(n);var a="quform-"+o.options.id+"-select2";t.isNonEmptyString(o.options.theme)&&(a+=" quform-theme-"+o.options.theme),i.on("select2:opening",function(){i.data("select2").$dropdown.addClass(a)})}),e(".quform-field-multiselect-enhanced",o.$form).each(function(){var i=e(this),r=i.data("options"),n={theme:"quform",language:{noResults:function(){return r.noResultsFound}}};t.isNonEmptyString(r.placeholder)&&(n.placeholder=r.placeholder),r.rtl&&(n.dir="rtl"),i.select2(n);var a="quform-"+o.options.id+"-select2";t.isNonEmptyString(o.options.theme)&&(a+=" quform-theme-"+o.options.theme),i.on("select2:opening",function(){i.data("select2").$dropdown.addClass(a)})})}},t.prototype.setupEnhancedUploaders=function(){if(e.isFunction(e.fn.fileupload)&&e.support.xhrFileUpload&&e.support.xhrFormDataFileUpload){var t=this;e(".quform-field-file-enhanced",t.$form).each(function(){var o,i=e(this),r=i.closest(".quform-input-file"),n=i.data("config"),a=e('<div class="quform-upload-files quform-cf">').insertAfter(r).hide();n.queued=0,t.uploadElements.push(n),o="dropzone"==n.buttonType?t.createUploadButton("quform-upload-dropzone",n):t.createUploadButton("quform-upload-button",n),r.append(o.append(i));var s=i.closest(".quform-element").addClass("quform-enhanced-upload");i.fileupload({dataType:"json",paramName:n.name+"[]",dropZone:o,change:function(){s.find(".quform-error").empty().remove()},add:function(e,o){t.uploadAdd(o,n,a)},start:function(){e(".quform-upload-progress-wrap",t.$form).show()},progress:function(o,i){var r=Math.min(100,i.loaded/i.total*100);e(".quform-upload-progress-bar",t.$form).css("width",r+"%"),e(".quform-upload-filename",t.$form).text(i.files[0].name)}})})}},t.prototype.createUploadButton=function(o,i){var r=e('<div class="'+o+'">');if(r.append(e('<span class="'+o+'-text">').text(i.buttonText)),t.isNonEmptyString(i.buttonIcon)){var n=e('<span class="'+o+'-icon">').append(e('<i class="'+i.buttonIcon+'">'));r.addClass(o+"-icon-"+i.buttonIconPosition),"right"==i.buttonIconPosition?r.append(n):r.prepend(n)}return r},t.prototype.setupDatepickers=function(){if(e.isFunction(e.fn.kendoDatePicker)){var o=this;e(".quform-field-date",o.$form).each(function(){var i=e(this).addClass("quform-field-date-enhanced"),r=i.closest(".quform-input-date"),n=r.find("> .quform-field-icon"),a=i.data("options"),s=e("<input>",{type:"hidden",name:i.attr("name"),value:i.val()}).data("default",i.val()).addClass("quform-field-date-hidden").insertAfter(i);i.attr("name",""),a.placeholder?i.attr("placeholder",a.placeholder):i.removeAttr("placeholder");var u={start:a.start||"month",depth:a.depth||"month",culture:a.locale||"en-US"};if(a.format?u.format=a.format:u.format=kendo.getCulture(a.locale).calendars.standard.patterns.d,a.showFooter||(u.footer=!1),a.min)if("{today}"==a.min)u.min=new Date;else{var l=kendo.parseDate(a.min,"yyyy-MM-dd");null!==l&&(u.min=l)}if(a.max)if("{today}"==a.max)u.max=new Date;else{var c=kendo.parseDate(a.max,"yyyy-MM-dd");null!==c&&(u.max=c)}i.kendoDatePicker(u),i.removeClass("k-input").closest(".k-datepicker").removeClass().addClass("k-widget k-datepicker k-header");var f=i.data("kendoDatePicker"),m="quform-datepicker quform-"+o.options.id+"-datepicker";t.isNonEmptyString(o.options.theme)&&(m+=" quform-theme-"+o.options.theme),f.dateView.popup.element.addClass(m),r.find(".k-select").hide(),a.autoOpen&&i.on("click focus",function(){f.open()}).blur(function(){f.close()}),n.click(function(){f.open()});var p=function(){var e=i.val();if(t.isNonEmptyString(e)){var o=kendo.parseDate(e,u.format,u.culture);null===o?s.val("9999-99-99"):s.val(kendo.toString(o,"yyyy-MM-dd"))}else s.val("")};if(f.bind("change",p),i.on("blur.quformDatePicker keyup.quformDatePicker",p),a.today)f.value(new Date),p();else{var d=i.val();if(t.isNonEmptyString(d)){var h=kendo.parseDate(d,"yyyy-MM-dd");null!==h&&(f.value(h),p())}}})}},t.prototype.setupTimepickers=function(){if(e.isFunction(e.fn.kendoTimePicker)){var o=this;e(".quform-field-time",o.$form).each(function(){var i=e(this).addClass("quform-field-time-enhanced"),r=i.closest(".quform-input-time"),n=r.find("> .quform-field-icon"),a=i.data("options"),s=e("<input>",{type:"hidden",name:i.attr("name"),value:i.val()}).data("default",i.val()).addClass("quform-field-time-hidden").insertAfter(i);i.attr("name",""),a.placeholder?i.attr("placeholder",a.placeholder):i.removeAttr("placeholder");var u={interval:a.interval&&e.isNumeric(a.interval)?parseInt(a.interval,10):30,culture:a.locale||"en-US"};if(a.format?u.format=a.format:u.format=kendo.getCulture(a.locale).calendars.standard.patterns.t,a.min)if("{now}"==a.min)u.min=new Date;else{var l=kendo.parseDate(a.min,"HH:mm");null!==l&&(u.min=l)}if(a.max)if("{now}"==a.max)u.max=new Date;else{var c=kendo.parseDate(a.max,"HH:mm");null!==c&&(u.max=c)}i.kendoTimePicker(u),i.removeClass("k-input").closest(".k-timepicker").removeClass().addClass("k-widget k-timepicker k-header");var f=i.data("kendoTimePicker"),m="quform-timepicker quform-"+o.options.id+"-timepicker";t.isNonEmptyString(o.options.theme)&&(m+=" quform-theme-"+o.options.theme),f.timeView.popup.element.addClass(m),r.find(".k-select").hide(),a.autoOpen&&i.on("click focus",function(){f.open()}).blur(function(){f.close()}),n.click(function(){f.open()});var p=function(){var e=i.val();if(t.isNonEmptyString(e)){var o=kendo.parseDate(e,u.format,u.culture);null===o?s.val("99:99"):s.val(kendo.toString(o,"HH:mm"))}else s.val("")};if(f.bind("change",p),i.on("blur.quformTimePicker keyup.quformTimePicker",p),a.now)f.value(new Date),p();else{var d=i.val();if(t.isNonEmptyString(d)){var h=kendo.parseDate(d,"HH:mm");null!==h&&(f.value(h),p())}}})}},t.prototype.setupTooltips=function(){if(e.isFunction(e.fn.qtip)&&this.options.tooltipsEnabled){var t={style:{classes:this.options.tooltipClasses},position:{my:this.options.tooltipMy,at:this.options.tooltipAt,viewport:!0,adjust:{method:"shift shift"}}};e(".quform-tooltip-hover",this.$form).qtip(e.extend({},t,{content:{text:function(){return e(this).closest(".quform-input").find("> .quform-tooltip-content").html()}}})),e(".quform-tooltip-click",this.$form).qtip(e.extend({},t,{show:{event:"focus"},hide:{event:"unfocus"},content:{text:function(){return e(this).closest(".quform-input").find("> .quform-tooltip-content").html()}}})),e(".quform-tooltip-icon-hover",this.$form).qtip(e.extend({},t,{content:{text:function(){return e(this).find(".quform-tooltip-icon-content").html()}}})),e(".quform-tooltip-icon-click",this.$form).qtip(e.extend({},t,{show:{event:"click"},hide:{event:"unfocus"},content:{text:function(){return e(this).find(".quform-tooltip-icon-content").html()}}})),e(".quform-labels-inside > .quform-spacer > .quform-inner > .quform-input > .quform-label",this.$form).hover(function(){e(this).siblings(".quform-tooltip-hover").qtip("show")},function(){e(this).siblings(".quform-tooltip-hover").qtip("hide")})}},t.prototype.setupCaptchaImages=function(){e(".quform-captcha-image img",this.$form).hover(function(){e(this).stop().fadeTo(400,"0.3")},function(){e(this).stop().fadeTo(400,"1.0")}).click(function(){var o=e(this);e.ajax({type:"GET",url:quformL10n.ajaxUrl,dataType:"json",data:{action:"quform_regenerate_captcha",quform_form_id:o.data("form-id"),quform_element_id:o.data("element-id"),quform_unique_id:o.data("unique-id")}}).done(function(e){"success"==(e=t.sanitiseResponse(e)).type&&o.attr("src",e.image)})})},t.prototype.applyAllLogic=function(e){this.logicCache={},this.options.logic.elementIds.length&&(this.applyLogic(this.options.logic.elementIds,e),e&&this.applyDependentLogic(this.options.logic.dependentElementIds))},t.prototype.applyLogic=function(e,t){for(var o=0,i=e.length;o<i;o++)this.applyElementLogic(e[o],t)},t.prototype.applyElementLogic=function(t,o){if(this.options.logic&&this.options.logic.logic){var i=this.options.logic.logic[t];if(i&&i.rules&&i.rules.length){for(var r=0,n=i.action,a=this.options.id+"_"+t,s=0;s<i.rules.length;s++)this.isLogicRuleMatch(i.rules[s])&&r++;"any"==i.match&&r>0||"all"==i.match&&r==i.rules.length||(n=!n);var u=e(".quform-element-"+a),l=this,c=n?"show":"hide";!o&&this.options.logic.animate?u.animate({opacity:c,height:c,marginTop:c,marginBottom:c,paddingTop:c,paddingBottom:c},{duration:400,complete:function(){l.updateFancybox()}}):(u[c](),o||l.updateFancybox())}}},t.prototype.applyDependentLogic=function(t){if(this.options.logic&&this.options.logic.dependents)for(var o=this,i=0,r=t.length,n=function(e,t,i,r){e.on(t,function(){o.logicCache[r]=[],setTimeout(function(){o.applyLogic(i)},0)})};i<r;i++){var a=this.options.logic.dependents[t[i]],s=this.options.id+"_"+t[i],u=e(".quform-field-"+s,this.$form);if(u.length){var l;u.is("select")||u.is('input[type="hidden"]')?l="change.quform":u.is('input[type="checkbox"]')||u.is('input[type="radio"]')?l="click.quform":u.is('textarea, input[type="text"], input[type="email"], input[type="password"]')&&(l="keyup.quform blur.quform",(u.hasClass("quform-field-date-enhanced")||u.hasClass("quform-field-time-enhanced"))&&(l="change.quform")),l&&n(u,l,a,s)}}},t.prototype.isLogicRuleMatch=function(t){var o=this.options.id+"_"+t.elementId;if(e.isArray(this.logicCache[o])){if(this.logicCache[o].length)for(var i=0,r=this.logicCache[o].length;i<r;i++)if(this.logicCache[o][i].operator===t.operator&&this.logicCache[o][i].value===t.value)return this.logicCache[o][i].result}else this.logicCache[o]=[];var n,a,s=e(".quform-field-"+o,this.$form);if(s.length){if(s.is('select:not([multiple]), input[type="hidden"], textarea, input[type="text"], input[type="email"], input[type="password"]')){var u=s.val();return s.hasClass("quform-field-date-enhanced")?(a="date",u=s.closest(".quform-input").find(".quform-field-date-hidden").val()):s.hasClass("quform-field-time-enhanced")&&(a="time",u=s.closest(".quform-input").find(".quform-field-time-hidden").val()),n=this.isLogicValueMatch(u,t,a),this.logicCache[o].push({value:t.value,result:n}),n}if(s.is('input[type="checkbox"]')||s.is('input[type="radio"]')){var l=this;return n=!1,e.each(s,function(){if(e(this).is(":checked")&&l.isLogicValueMatch(e(this).val(),t))return n=!0,!1}),this.logicCache[o].push({value:t.value,result:n}),n}if(s.is("select[multiple]")){var c;l=this,u=s.val();if(n=!1,"empty"==t.operator)n=null===u;else if("not_empty"==t.operator)n=null!==u;else if(e.isArray(u))for(c=0;c<u.length;c++)if(l.isLogicValueMatch(u[c],t)){n=!0;break}return this.logicCache[o].push({value:t.value,result:n}),n}}return this.logicCache[o].push({value:t.value,result:!1}),!1},t.prototype.isLogicValueMatch=function(o,i,r){switch("string"!=typeof o&&(o=""),i.operator){case"eq":return o===i.value;case"neq":return o!==i.value;case"empty":return""===o;case"not_empty":return""!==o;case"gt":return"date"==r?1===t.compareDates(o,i.value):"time"==r?1===t.compareTimes(o,i.value):e.isNumeric(o)&&o>i.value;case"lt":return"date"==r?-1===t.compareDates(o,i.value):"time"==r?-1===t.compareTimes(o,i.value):e.isNumeric(o)&&o<i.value;case"contains":return-1!==o.indexOf(i.value);case"starts_with":return 0===o.indexOf(i.value);case"ends_with":return-1!==o.indexOf(i.value,i.value.length)}return!1},t.prototype.uploadAdd=function(o,i,r){var n=this,a=o.files[0];if(i.max&&i.queued===i.max)this.addElementError(i.identifier,i.tooMany.replace("%max%",i.max))[this.errorShowFunction]();else if(!i.allowedExtensions||t.isValidFile(a,i.allowedExtensions))if(i.size&&a.size>i.size)this.addElementError(i.identifier,i.tooBigWithFilename.replace("%filename%",a.name))[this.errorShowFunction]();else{var s=this.nextUploadId++;o.formData={quform_ajax_uploading:1,quform_form_id:this.options.id,quform_form_uid:this.options.uniqueId,quform_element_id:i.id,quform_element_identifier:i.identifier,quform_upload_id:s},this.uploadQueue.push(o),i.queued++;var u=o.context=e('<div class="quform-upload-file">').data("quform-upload-id",s);e('<span class="quform-upload-file-name">').text(a.name).appendTo(u),e('<span class="quform-upload-file-remove">').attr("title",quformL10n.removeFile).click(function(){for(var t=e(this).closest(".quform-upload-file"),o=t.data("quform-upload-id"),a=n.uploadQueue.length;a--;)n.uploadQueue[a].formData.quform_upload_id==o&&n.uploadQueue.splice(a,1);t.data("quform-upload-uid")&&n.removedUploadUids.push(t.data("quform-upload-uid")),t.remove(),0===r.children().length&&r.hide(),i.queued--}).appendTo(u),r.append(u).show()}else this.addElementError(i.identifier,i.notAllowedTypeWithFilename.replace("%filename%",a.name))[this.errorShowFunction]()},t.prototype.processUploadQueue=function(){var o=this,i=o.uploadQueue.shift();i.submit().done(function(r){"success"==(r=t.sanitiseResponse(r)).type?(i.context.addClass("quform-uploaded").prepend(e('<span class="quform-upload-tick"><i class="qicon-check">')).data("quform-upload-uid",r.uid),o.uploadQueue.length?o.processUploadQueue():(e(".quform-upload-progress-wrap",o.$form).hide(),o.submitted=!1,o.submit())):o.uploadError(i,r.message)}).fail(function(){o.uploadError(i,quformL10n.ajaxError)})},t.prototype.uploadError=function(t,o){e(".quform-upload-progress-wrap",this.$form).hide(),this.uploadQueue.unshift(t),this.allowResubmission(),this.addElementError(t.formData.quform_element_identifier,o)[this.errorShowFunction](),this.scrollTo(e(".quform-element-"+t.formData.quform_element_identifier,this.$form))},t.prototype.submit=function(e){var o=this;if(!o.submitted)if(o.submitStartTime=t.timeNow(),o.submitted=!0,e="back"==e?"back":"submit",o.$form.trigger("quform:submit",[o,e]),o.$loading.fadeIn().addClass("quform-loading-triggered"),"submit"==e&&this.uploadQueue.length)o.processUploadQueue();else{var i={quform_ajax:1,quform_submit:e,quform_removed_upload_uids:o.removedUploadUids.join(",")};o.$form.ajaxSubmit({type:"POST",data:i,dataType:"json",iframe:!0,url:"",success:function(e){switch(o.submitEndTime=t.timeNow(),(e=t.sanitiseResponse(e)).type){case"success":o.responseSuccess(e.confirmation);break;case"error":o.responseError(e);break;case"page":o.allowResubmission(),o.goToPage(e.page);break;case"invalid":o.responseInvalid(e)}},error:function(){o.submitEndTime=t.timeNow(),o.responseInvalid({message:quformL10n.ajaxError})}})}},t.prototype.responseSuccess=function(e){var t=this;t.$form.trigger("quform:successStart",[t,e]),t.$loading.addClass("quform-loading-success");var o=function(){switch(e.type){case"message":t.reset(e.resetForm),t.showSuccessMessage(e);break;case"message-redirect-page":case"message-redirect-url":t.showSuccessMessage(e),setTimeout(function(){window.location=e.redirectUrl},1e3*parseFloat(e.redirectDelay));break;case"redirect-page":case"redirect-url":window.location=e.redirectUrl;break;case"reload":window.location.reload()}};e.hideForm?t.$elements.quformHideSlide(function(){o()}):o()},t.prototype.showSuccessMessage=function(o){var i=this,r=e('<div class="quform-success-message-animate">').hide(),n=e('<div class="quform-success-message quform-success-message-'+i.options.id+'">').appendTo(r);t.isNonEmptyString(o.messageIcon)&&n.addClass("quform-success-message-has-icon").append('<div class="quform-success-message-icon"><i class="'+o.messageIcon+'"></i></div>'),n.append(e('<div class="quform-success-message-content">').html(o.message)),r["below"==o.messagePosition?"insertAfter":"insertBefore"](i.$elements).quformShowSlide(),setTimeout(function(){i.scrollTo(r)},i.getScrollDelay());var a=1e3*parseFloat(o.messageTimeout);a>0&&(i.successTimeout=setTimeout(function(){r.quformHideSlide(function(){i.updateFancybox()})},a))},t.prototype.responseError=function(t){var o=this,i=null,r=!1;o.$form.trigger("quform:errorStart",[o,t]),o.allowResubmission(),"object"==typeof t.error&&null!==t.error&&t.error.enabled&&"string"==typeof t.error.content&&t.error.content.length&&(o.errorMessage(t.error.content,t.error.title),r=!0),e.each(t.errors,function(t,r){var n=e(".quform-element-"+t,o.$form);n.length&&(o.addElementError(t,r),i||(i=n))}),o.options.hasPages&&t.page!==o.currentPageId&&o.goToPage(t.page),e(".quform-error",o.$form)[this.errorShowFunction](),!r&&i&&setTimeout(function(){o.scrollTo(i)},o.getScrollDelay()),o.updateFancybox(),o.$form.trigger("quform:errorEnd",[o,t])},t.prototype.responseInvalid=function(e){this.allowResubmission(),this.errorMessage(e.message,quformL10n.errorMessageTitle)},t.prototype.goToPage=function(t){var o=e(".quform-page-"+t,this.$form);if(o.length&&this.options.pages.length>1){var i=e.inArray(t,this.options.pages);if(i>-1){this.currentPageId=t,e('input[name="quform_current_page_id"]',this.$form).val(t),e(".quform-current-page",this.$form).hide().removeClass("quform-current-page"),o.show().addClass("quform-current-page"),this.scrollTo(this.$form);var r=Math.round((i+1)/this.options.pages.length*100);"numbers"==this.options.pageProgressType||"percentage"==this.options.pageProgressType?(e(".quform-page-progress-bar",this.$form).width(r+"%"),"numbers"==this.options.pageProgressType?e(".quform-page-progress-text > .quform-page-progress-number",this.$form).text(i+1):e(".quform-page-progress-text > .quform-page-progress-percentage",this.$form).text(r)):"tabs"==this.options.pageProgressType&&(e(".quform-page-progress-tab.quform-current-tab",this.$form).removeClass("quform-current-tab"),e(".quform-page-progress-tab").filter(function(){return e(this).data("id")==t}).addClass("quform-current-tab"))}}},t.prototype.allowResubmission=function(){var t=this;t.$loading.removeClass("quform-loading-triggered").fadeOut(function(){t.$loading.removeClass("quform-loading-success")}),e(".quform-error-message, .quform-error, .quform-success-message-animate",t.$form).remove(),e(".quform-has-error",t.$form).removeClass("quform-has-error"),"number"==typeof t.successTimeout&&(clearTimeout(t.successTimeout),t.successTimeout=null),window.grecaptcha&&e(".quform-recaptcha",t.$form).each(function(){try{window.grecaptcha.reset(e(this).data("recaptcha-id"))}catch(t){}}),t.submitted=!1},t.prototype.reset=function(o){switch(this.allowResubmission(),o){default:case"":this.$form.resetForm(),e("input.quform-field-date-enhanced",self.$form).each(function(){var o=e(this),i=o.closest(".quform-input").find(".quform-field-date-hidden").data("default"),r=o.data("kendoDatePicker");i=t.isNonEmptyString(i)?kendo.parseDate(i,"yyyy-MM-dd"):null,r.value(i),r.trigger("change"),r.dateView.calendar&&r.dateView.calendar.navigate(null===i?new Date:i)}),e("input.quform-field-time-enhanced",self.$form).each(function(){var o=e(this),i=o.closest(".quform-input").find(".quform-field-time-hidden").data("default"),r=o.data("kendoTimePicker");i=t.isNonEmptyString(i)?kendo.parseDate(i,"HH:mm"):null,r.value(i),r.trigger("change")}),e(".quform-field-hidden",self.$form).each(function(){var t=e(this);t.val(t.data("default")).change()});break;case"clear":this.$form.clearForm(),e("select",this.$form).each(function(){e(this).prop("selectedIndex",0)}),e("input.quform-field-date-enhanced",self.$form).each(function(){var t=e(this).data("kendoDatePicker");t.value(null),t.trigger("change"),t.dateView.calendar&&t.dateView.calendar.navigate(new Date)}),e("input.quform-field-time-enhanced",self.$form).each(function(){var t=e(this).data("kendoTimePicker");t.value(null),t.trigger("change")}),e(".quform-field-hidden",self.$form).val("").change();break;case"keep":}e(".quform-captcha-image img",this.$form).trigger("click"),e('input[type="text"], input[type="email"], textarea',this.$form).blur(),this.applyAllLogic(),e(".quform-field-select-enhanced, .quform-field-multiselect-enhanced",this.$form).trigger("change"),this.removedUploadUids=[],e(".quform-upload-files",this.$form).empty().hide();for(var i=0,r=this.uploadElements.length;i<r;i++)this.uploadElements[i].queued=0;e('input[type="file"]',this.$form).each(function(){var t=e(this);t.replaceWith(t.val("").clone(!0))}),e(".qtip").hide(),this.options.hasPages&&this.goToPage(this.options.pages[0])},t.prototype.errorMessage=function(t,o){var i=this,r=e('<div class="quform-error-message">').hide(),n=e('<div class="quform-error-message-inner">');"string"==typeof o&&o.length&&n.append(e('<div class="quform-error-message-title">').html(o)),n.append(e('<div class="quform-error-message-content">').html(t)).appendTo(r),i.$elements.prepend(r),r.quformShowSlide(),setTimeout(function(){i.scrollTo(r)},i.getScrollDelay())},t.prototype.addElementError=function(o,i){var r=e('<div class="quform-error quform-cf">'),n=e('<div class="quform-error-inner">').appendTo(r);if(t.isNonEmptyString(this.options.errorsIcon)&&n.append(e('<span class="quform-error-icon">').append('<i class="'+this.options.errorsIcon+'"></i>')),n.append(e('<span class="quform-error-text">').html(i)),this.$wrapper.hasClass("quform-errors-absolute")){var a=e('<span class="quform-error-close">').append('<i class="qicon-close">');a.click(function(){e(this).closest(".quform-error").fadeOut()}),n.append(a)}return e(".quform-element-"+o,this.$form).addClass("quform-has-error"),e(".quform-input-"+o,this.$form).after(r),r},t.prototype.scrollTo=function(o){if(this.options.scrolling&&o&&o.length){var i=this.getScrollElement();i?i.scrollTo(o,this.options.scrollSpeed,{axis:"y",offset:this.options.scrollOffset}):t.isScrolledIntoView(o)||e.scrollTo(o,this.options.scrollSpeed,{axis:"y",offset:this.options.scrollOffset})}},t.prototype.getScrollDelay=function(){return this.options.scrollDelay>0?t.clamp(this.options.scrollDelay-(this.submitEndTime-this.submitStartTime),0,3200):0},t.prototype.getScrollElement=function(){var t=null;return this.$form.closest(".fancybox-inner").length?t=this.$form.closest(".fancybox-inner"):this.$form.closest("#fancybox-content").length?this.$form.closest(".quform").hasClass("quform-custom-height")&&(t=this.$form.closest("#fancybox-content > div")):this.$form.closest(".mfp-wrap").length&&(this.$form.closest(".quform").hasClass("quform-max-height")?t=this.$form.closest(".quform"):e.magnificPopup&&e.magnificPopup.instance&&e.magnificPopup.instance.fixedContentPos&&(t=this.$form.closest(".mfp-wrap"))),t},t.prototype.updateFancybox=function(){if(this.options.updateFancybox&&e.isFunction(e.fn.fancybox)&&e.fancybox){var t;e.fancybox.version?(t=e(".fancybox-wrap")).length&&t.is(":visible")&&e.fancybox.reposition():(t=e("#fancybox-wrap")).length&&t.is(":visible")&&e.fancybox.center()}},t.isScrolledIntoView=function(t){var o=e(window).scrollTop(),i=o+e(window).height(),r=t.offset().top,n=r+t.height();return n>=o&&r<=i&&n<=i&&r>=o},t.formatFileSize=function(e){return e>=1073741824?e=Math.round(e/1073741824*10)/10+" GB":e>=1048576?e=Math.round(e/1048576*10)/10+" MB":e>=1024?e=Math.round(e/1024*10)/10+" KB":e+=" bytes",e},t.preLoadImages=function(e,o){for(var i=0;i<e.length;i++){var r=new Image;r.src=o?o+e[i]:e[i],t.preLoadImages.cache.push(r)}},t.preLoadImages.cache=[],t.sanitiseResponse=function(e){return null!==e&&"object"==typeof e&&"string"==typeof e.type&&0!==e.type.length||(e={type:"invalid",message:"The response from the server was invalid or malformed"}),e},t.compareDates=function(e,o){if(!t.isNonEmptyString(e)||!t.isNonEmptyString(o))return!1;if(e=kendo.parseDate(e,"yyyy-MM-dd"),o=kendo.parseDate(o,"yyyy-MM-dd"),null===e||null===o)return!1;var i=e.getTime(),r=o.getTime();return i<r?-1:i>r?1:0},t.compareTimes=function(e,o){if(!t.isNonEmptyString(e)||!t.isNonEmptyString(o))return!1;if(e=kendo.parseDate(e,"HH:mm"),o=kendo.parseDate(o,"HH:mm"),null===e||null===o)return!1;var i=e.getTime(),r=o.getTime();return i<r?-1:i>r?1:0},t.isValidFile=function(e,t){var o,i;if(!t.length)return!0;for(o=0,i=t.length;o<i;o++)if(-1!==e.name.toLowerCase().indexOf(t[o].toLowerCase(),e.name.length-t[o].length))return!0;return!1},t.isNonEmptyString=function(e){return"string"==typeof e&&e.length},t.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},t.timeNow=function(){return(new Date).getTime()},t.setupPopupLinks=function(){(e.isFunction(e.fn.fancybox)||e.isFunction(e.fn.magnificPopup))&&e(".quform-popup-link").each(function(){var t=e(this);if(!t.data("quform-processed")){var o,i="#quform-"+t.data("unique-id"),r=e(i),n=t.data("options")||{};e.isFunction(e.fn.fancybox)&&e.fancybox?(e.fancybox.version?(o={type:"inline",wrapCSS:"quform-fancybox-2-popup",href:i,beforeClose:function(){e(".qtip").hide()}},(n.width||n.height)&&("undefined"==typeof n.autoSize&&(n.autoSize=!1),n.width||"undefined"!=typeof n.autoWidth||(n.autoWidth=!0),n.height||"undefined"!=typeof n.autoHeight||(n.autoHeight=!0))):(o={inline:!0,href:i,onStart:function(){e("#fancybox-outer").css("opacity",0),e("#fancybox-wrap").addClass("quform-fancybox-1-popup")},onComplete:function(){window.grecaptcha&&e("#fancybox-content .quform-recaptcha").each(function(){try{window.grecaptcha.reset(e(this).data("recaptcha-id"))}catch(t){}}),e("#fancybox-wrap, #fancybox-content").css({width:"auto"}),e.fancybox.center(0),setTimeout(function(){e("#fancybox-outer").animate({opacity:1},200),e("#fancybox-overlay").css({height:e(document).height()})},1)},onClosed:function(){e("#fancybox-wrap").removeClass("quform-fancybox-1-popup")}},(n.width||n.height)&&"undefined"==typeof n.autoDimensions&&(n.autoDimensions=!1),n.height&&r.addClass("quform-custom-height")),t.fancybox(e.extend({},o,n))):e.isFunction(e.fn.magnificPopup)&&(o={items:{src:r,type:"inline"},mainClass:"quform-magnific-popup"},n.width&&(r.css({maxWidth:e.isNumeric(n.width)?n.width+"px":n.width}),delete n.width),n.height&&(r.css({maxHeight:e.isNumeric(n.height)?n.height+"px":n.height}).addClass("quform-max-height"),delete n.height),t.magnificPopup(e.extend({},o,n)),e.magnificPopup.instance._onFocusIn=function(t){if(e(t.target).hasClass("select2-search__field"))return!0;e.magnificPopup.proto._onFocusIn.call(this,t)}),t.data("quform-processed",!0)}})},t.recaptchaLoaded=function(){window.grecaptcha&&e(".quform-recaptcha").each(function(){var t=e(this),o=t.data("config");t.is(":empty")&&("invisible"==o.size&&(o.callback=function(){t.closest(".quform-form").data("quform").submit()}),t.data("recaptcha-id",window.grecaptcha.render(t[0],o)))})},t}(),window.Quform=t,window.QuformRecaptchaLoaded=t.recaptchaLoaded,e.fn.extend({quform:function(){return this.each(function(){return new t(this,e(this).data("options")||{})})},quformHideSlide:function(t,o){var i={height:"hide",opacity:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},r={duration:400};return t&&(r.complete=t),o&&(i=e.extend(i,o)),this.animate(i,r)},quformShowSlide:function(t,o){var i={height:"show",opacity:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},r={duration:400};return t&&(r.complete=t),o&&(i=e.extend(i,o)),this.animate(i,r)}}),e(document).ready(function(){e(".quform-form").quform(),t.setupPopupLinks()})}(jQuery);